#pragma once

#include <cstdint>

namespace hpp
{

constexpr static uint64_t s_Table64[256] = {

    0ull,
    12911341560706588527ull,
    17619267392293085275ull,
    5164075066763771700ull,
    8921845837811637811ull,
    14483170935171449180ull,
    10328150133527543400ull,
    4357999468653093127ull,
    17843691675623275622ull,
    4940391307328217865ull,
    226782375002905661ull,
    12685511915359257426ull,
    10119945210068853333ull,
    4566377562367245626ull,
    8715998937306186254ull,
    14689403211693301089ull,
    9051005139383707209ull,
    14895072503764629798ull,
    9880782614656435730ull,
    4193374422961527165ull,
    453564750005811322ull,
    13070904082541799189ull,
    17496296445768931361ull,
    4747102235666401102ull,
    9960315520700766767ull,
    4113029525020509504ull,
    9132755124734491252ull,
    14812441257301386523ull,
    17431997874612372508ull,
    4811156168024382323ull,
    391483189436228679ull,
    13132671735097031464ull,
    18102010278767414418ull,
    5195199925788447741ull,
    1131375642422963401ull,
    13591081480414639014ull,
    9288535643022529185ull,
    3731739485546663374ull,
    8386748845923054330ull,
    14361410892855143829ull,
    907129500011622644ull,
    13814943346342178715ull,
    17875617253995106479ull,
    5421418680781082560ull,
    8594564625313771207ull,
    14152643483341451688ull,
    9494204471332802204ull,
    3525329033817543155ull,
    9704381199536204507ull,
    3855837706121835956ull,
    8226059050041019008ull,
    13908973417437222383ull,
    18265510249468982504ull,
    5643692520190618503ull,
    718348998302913715ull,
    13463047253836762076ull,
    8146277531524994749ull,
    13989069943491807698ull,
    9622312336048764646ull,
    3938150108875254153ull,
    782966378872457358ull,
    13399312233903888353ull,
    18327840216347633877ull,
    5582173445676054458ull,
    7257036000092981153ull,
    15535280666427316430ull,
    10390399851576895482ull,
    2529986302517213333ull,
    2262751284845926802ull,
    12414353723947190013ull,
    16997392145760156105ull,
    6398650419759490726ull,
    10599130201908394951ull,
    2322133910755632296ull,
    7463478971093326748ull,
    15329644185724306675ull,
    16773497691846108660ull,
    6622864283287239323ull,
    2036569382881248687ull,
    12640783567252986560ull,
    1814259000023245288ull,
    12250853444207230599ull,
    17125426475222188467ull,
    6811676960462675676ull,
    7132938157145702363ull,
    15119434731753103540ull,
    10842837361562165120ull,
    2690676064372932847ull,
    17189129250627542414ull,
    6747026957542163169ull,
    1875814858707893717ull,
    12188560364711551674ull,
    10762704257491731389ull,
    2770420489343360210ull,
    7050658067635086310ull,
    15201536148867841161ull,
    11493583972846619443ull,
    3219832958944941148ull,
    7711675412243671912ull,
    15576564987190227975ull,
    16452118100082038016ull,
    6305011443818121839ull,
    1213047649942025563ull,
    11816267669673208372ull,
    7503259434831574869ull,
    15784731923736995898ull,
    11287385040381237006ull,
    3425713581329221729ull,
    1436697996605827430ull,
    11591809733187859977ull,
    16677985422973077821ull,
    6078267261889762898ull,
    16292555063049989498ull,
    5851447209550246421ull,
    1630020308903038241ull,
    11939238787801010766ull,
    11081681957373440841ull,
    3090674103720225830ull,
    7876300217750508306ull,
    16023932746787097725ull,
    1565932757744914716ull,
    12003503911822413427ull,
    16230825569204842823ull,
    5913566482019610152ull,
    7956607163135676207ull,
    15944361922680361024ull,
    11164346891352108916ull,
    3008957496780927003ull,
    14514072000185962306ull,
    8809633696146542637ull,
    4460922918905818905ull,
    10287960411460399222ull,
    12879331835779764593ull,
    113391187501452830ull,
    5059972605034426666ull,
    17660565739912801861ull,
    4525502569691853604ull,
    10224187249629523019ull,
    14576435430675780479ull,
    8748148222884465680ull,
    4980157760350383383ull,
    17740628527280140920ull,
    12797300839518981452ull,
    195741594718114339ull,
    13040162471224305931ull,
    565687821211481700ull,
    4644267821511264592ull,
    17536326748496696895ull,
    14926957942186653496ull,
    8937808626997553239ull,
    4297282312656885603ull,
    9839608450464401420ull,
    4852190599768102253ull,
    17327666750234135042ull,
    13245728566574478646ull,
    359174499151456857ull,
    4073138765762497374ull,
    10063573324157604913ull,
    14700457781105076997ull,
    9163920108173816938ull,
    3628518000046490576ull,
    9328460452529085631ull,
    14330211790445699979ull,
    8498696072880078052ull,
    5299565100954197475ull,
    18061012165519327884ull,
    13623353920925351352ull,
    1018284691440624343ull,
    14265876314291404726ull,
    8562713237611094233ull,
    3566469078572851181ull,
    9390260331795218562ull,
    13702854325316886917ull,
    937907429353946858ull,
    5381352128745865694ull,
    17978417549248290481ull,
    5746791986423309721ull,
    18225777846762470134ull,
    13494053915084326338ull,
    606523824971012781ull,
    3751629717415787434ull,
    9745292510640121029ull,
    13876787882151992305ull,
    8338992711486538910ull,
    13285957365033343487ull,
    815010154451519120ull,
    5540840978686720420ull,
    18431906428167644875ull,
    14101316135270172620ull,
    8115412784602421411ull,
    3978303581567838103ull,
    9519354766961195256ull,
    12527462061959317731ull,
    2230461459452909452ull,
    6439665917889882296ull,
    16893009583564617687ull,
    15423350824487343824ull,
    7288217715337890239ull,
    2490078880175191691ull,
    10493603952060017124ull,
    6520081235612152965ull,
    16813546994155744234ull,
    12610022887636243678ull,
    2148641156328442801ull,
    2426095299884051126ull,
    10557972909709735385ull,
    15361512820870335213ull,
    7350228890552538498ull,
    15006518869663149738ull,
    7165105895222849989ull,
    2649782550477098737ull,
    10947027550912647582ull,
    12362696414880903321ull,
    1783234539286425590ull,
    6851427162658443458ull,
    17022309211647725485ull,
    2873395993211654860ull,
    10722532847870938531ull,
    15232418832718623383ull,
    6938393941075996152ull,
    6642978682516671743ull,
    17230443782969840528ull,
    12156534523779525796ull,
    1989151790783919051ull,
    6263731030979658865ull,
    16556202624882645790ull,
    11702894419100492842ull,
    1245039440087595845ull,
    3260040617806076482ull,
    11390642587947386157ull,
    15688795063501830681ull,
    7680756410435167606ull,
    11622868312827688983ull,
    1324891275238549368ull,
    6181348207440451660ull,
    16638201170595874595ull,
    15752600435501016612ull,
    7616209416359311691ull,
    3321489341258335871ull,
    11328242235714328848ull,
    3131865515489829432ull,
    10977756817953029463ull,
    16137146508898304611ull,
    7844397531750915340ull,
    5811434156413844491ull,
    16395372229761246052ull,
    11827132964039220304ull,
    1660744670629167935ull,
    15913214326271352414ull,
    8068573254449152305ull,
    2905717078206922245ull,
    11204220263579804010ull,
    12035829987123708013ull,
    1452858539103461122ull,
    6017914993561854006ull,
    16189773752444600153ull};

inline constexpr auto hash_impl(const char* data, size_t size, uint64_t crc) -> uint64_t
{
    for(size_t i = 0; i < size; ++i)
    {
        auto old_crc = crc;
        crc >>= 8;
        crc ^= s_Table64[static_cast<unsigned char>(static_cast<uint64_t>(data[i]) ^ old_crc)];
    }
    return crc;
}
inline constexpr auto crc64(const char* data, size_t size) -> uint64_t
{
    return hash_impl(data, size, 0);
}

} // namespace hpp
